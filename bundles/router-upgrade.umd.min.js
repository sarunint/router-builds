/**
 * @license Angular v7.1.0-beta.2-da59206995
 * (c) 2010-2018 Google, Inc. https://angular.io/
 * License: MIT
 */
!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports,require("@angular/common"),require("@angular/core"),require("@angular/router"),require("@angular/upgrade/static")):"function"==typeof define&&define.amd?define("@angular/router/upgrade",["exports","@angular/common","@angular/core","@angular/router","@angular/upgrade/static"],factory):factory((global.ng=global.ng||{},global.ng.router=global.ng.router||{},global.ng.router.upgrade={}),global.ng.common,global.ng.core,global.ng.router,global.ng.upgrade.static)}(this,function(exports,_angular_common,_angular_core,_angular_router,_angular_upgrade_static){"use strict";
/**
 * @license Angular v7.1.0-beta.2-da59206995
 * (c) 2010-2018 Google, Inc. https://angular.io/
 * License: MIT
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var anchor,RouterUpgradeInitializer={provide:_angular_core.APP_BOOTSTRAP_LISTENER,multi:!0,useFactory:locationSyncBootstrapListener,deps:[_angular_upgrade_static.UpgradeModule]};function locationSyncBootstrapListener(ngUpgrade){return function(){setUpLocationSync(ngUpgrade)}}function setUpLocationSync(ngUpgrade){if(!ngUpgrade.$injector)throw new Error("\n        RouterUpgradeInitializer can be used only after UpgradeModule.bootstrap has been called.\n        Remove RouterUpgradeInitializer and call setUpLocationSync after UpgradeModule.bootstrap.\n      ");var router=ngUpgrade.injector.get(_angular_router.Router),location=ngUpgrade.injector.get(_angular_common.Location);ngUpgrade.$injector.get("$rootScope").$on("$locationChangeStart",function(_,next,__){var url=function(url){anchor||(anchor=document.createElement("a"));return anchor.setAttribute("href",url),anchor.setAttribute("href",anchor.href),{pathname:"/"+anchor.pathname.replace(/^\//,""),search:anchor.search,hash:anchor.hash}}(next),path=location.normalize(url.pathname);router.navigateByUrl(path+url.search+url.hash)})}exports.locationSyncBootstrapListener=locationSyncBootstrapListener,exports.setUpLocationSync=setUpLocationSync,exports.RouterUpgradeInitializer=RouterUpgradeInitializer,Object.defineProperty(exports,"__esModule",{value:!0})});